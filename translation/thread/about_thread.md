## çº¿ç¨‹  

å¤šå¹´æ¥ï¼Œ è®¡ç®—æœºçš„æ€§èƒ½ä¸»è¦å—å•æ ¸å¿ƒCPUé™åˆ¶ã€‚ç„¶è€Œï¼Œéšç€å•æ ¸å¿ƒCPUæ€§èƒ½è¾¾åˆ°æè‡´ï¼ŒèŠ¯ç‰‡åˆ¶é€ å•†è½¬è€Œé‡‡ç”¨å¤šæ ¸è®¾è®¡ï¼Œä½¿è®¡ç®—æœºå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šé¡¹ä»»åŠ¡ã€‚ è™½ç„¶æ“ä½œç³»ç»Ÿå¯ä»¥åˆ©ç”¨è¿™äº›æ ¸å¿ƒæ¥å®Œæˆç³»ç»Ÿç›¸å…³çš„ä»»åŠ¡ï¼ŒåŒæ—¶ç”¨æˆ·åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥é€šè¿‡çº¿ç¨‹æŠ€æœ¯æ¥åˆ©ç”¨  

### ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ  
çº¿ç¨‹æ˜¯åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨å®ç°å¤šè·¯æ‰§è¡Œçš„è½»é‡çº§æ–¹å¼ã€‚åœ¨ç³»ç»Ÿå±‚ï¼Œç¨‹åºå¹¶è¡Œè¿è¡Œï¼Œç³»ç»Ÿæ ¹æ®éœ€å°†æ‰§è¡Œæ—¶é—´åˆ†é…ç»™æ¯ä¸ªç¨‹åºã€‚ç„¶è€Œåœ¨åº”ç”¨ç¨‹åºå†…éƒ¨ï¼Œå­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ‰§è¡Œçº¿ç¨‹ï¼Œå…¶å¯ç”¨äºåŒæ—¶æˆ–å‡ ä¹åŒæ—¶çš„æ–¹å¼æ‰§è¡Œä¸åŒä»»åŠ¡ã€‚ç³»ç»Ÿæœ¬èº«å®é™…ä¸Šç®¡ç†è¿™äº›çº¿ç¨‹ï¼Œå°†å®ƒä»¬åˆç†çš„å®‰æ’åœ¨å¯ç”¨CPUæ ¸å¿ƒä¸Šè¿è¡Œï¼Œå¹¶æ ¹æ®éœ€è¦ä¸­æ–­ä»¥è¿è¡Œå…¶ä»–çº¿ç¨‹æˆ–ç»§ç»­æ‰§è¡Œè¿™äº›çº¿ç¨‹     

![çº¿ç¨‹]()   
> è¯‘è€…æ³¨ï¼š æ­¤å¤„å…¶éœ€è¦å¼•ç”³åˆ°è¿›ç¨‹çš„æ¦‚å¿µ  

ä»æŠ€æœ¯è§’åº¦çœ‹ï¼Œçº¿ç¨‹æ˜¯ç®¡ç†ä»£ç æ‰§è¡Œæ—¶æ‰€éœ€çš„å†…æ ¸çº§ä¸åº”ç”¨çº§æ•°æ®ç»“æ„çš„é›†åˆ(çº¿ç¨‹ç”¨æ¥ç®¡ç†å†…æ ¸çº§å’Œåº”ç”¨çº§æ•°æ®ç»“æ„)    
å†…æ ¸çº§æ˜¯åè°ƒäº‹ä»¶åˆ°çº¿ç¨‹åŸºäºåœ¨ä¸€ä¸ªå¯ç”¨å†…æ ¸ä¸Šçš„çº¿ç¨‹è°ƒåº¦ï¼›åº”ç”¨çº§åŒ…æ‹¬ç”¨æˆ·å­˜å‚¨çº¿ç¨‹è°ƒç”¨çš„è°ƒç”¨æ ˆåŸºäºåº”ç”¨ç¨‹åºç®¡ç†å’Œæ“ä½œçº¿ç¨‹å±æ€§ä»¥åŠçŠ¶æ€    

åœ¨éå¹¶å‘åº”ç”¨ç¨‹åºä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹(æ‰§è¡Œ main å‡½æ•°çº¿ç¨‹)ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¹¶å‘åº”ç”¨ç¨‹åºä»ä¸€ä¸ªçº¿ç¨‹å¼€å§‹ï¼Œæ ¹æ®éœ€è¦ä¼šæ·»åŠ å…¶ä»–æ‰§è¡Œçº¿ç¨‹ã€‚æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹è¿è¡Œã€‚åº”ç”¨å¤šçº¿ç¨‹å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š   
* å¤šçº¿ç¨‹å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›  
* å¤šçº¿ç¨‹å¯ä»¥æé«˜åº”ç”¨ç¨‹åºåœ¨å¤šæ ¸ç³»ç»Ÿä¸Šçš„æ€§èƒ½    

å¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å¿…é¡»æ‰§è¡Œæ‰€æœ‰æ“ä½œã€‚å¿…é¡»å“åº”äº‹ä»¶ã€æ›´æ–°View,å¹¶æ‰§è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„è®¡ç®—ã€‚ ä¸€ä¸ªçº¿ç¨‹ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹ï¼Œæƒ³è±¡ä¸‹å½“ä¸€ä¸ªè®¡ç®—ä»»åŠ¡éœ€è¦å¾ˆé•¿äº‹ä»¶æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ å½“çº¿ç¨‹å¿™äºè®¡ç®—æ—¶ï¼Œå®ƒå°†æ— æ³•å“åº”ç”¨æˆ·äº‹ä»¶ä»¥åŠæ›´æ–°Viewã€‚ å¦‚æœè¿™ä¸ªè¡Œä¸ºæŒç»­å¾ˆé•¿æ—¶é—´ï¼Œç”¨æˆ·å¯èƒ½ä¼šè®¤ä¸ºåº”ç”¨ç¨‹åºå·²ç»æŒ‚èµ·å¹¶å°è¯•å¼ºåˆ¶é€€å‡ºã€‚ä½†æ˜¯å¦‚æœå°†è€—æ—¶è®¡ç®—ç§»åˆ°å•ç‹¬çš„çº¿ç¨‹å»è¿è¡Œï¼Œé‚£ä¹ˆå°†ä¸ä¼šå¡é¡¿ä¸»çº¿ç¨‹ï¼Œåº”ç”¨ä¸»çº¿ç¨‹ä¹Ÿå¯ä»¥æ›´åŠæ—¶çš„å“åº”ç”¨æˆ·äº¤äº’    

å¯¹äºå¤šæ ¸è®¡ç®—æœºï¼Œçº¿ç¨‹æä¾›äº†æé«˜åº”ç”¨æ€§èƒ½çš„æ–¹å¼ã€‚æ‰§è¡Œä¸åŒä»»åŠ¡çš„çº¿ç¨‹å¯åœ¨å…¶ä»–å†…æ ¸ä¸Šæ‰§è¡Œï¼Œä»è€Œä½¿åº”ç”¨å¯ä»¥æ›´å¥½çš„å¤„ç†åŠæ—¶ä»»åŠ¡(ä¾‹å¦‚ï¼š ç”¨æˆ·äº¤äº’)   

å½“ç„¶ï¼Œçº¿ç¨‹å¹¶ä¸æ˜¯è§£å†³åº”ç”¨ç¨‹åºæ€§èƒ½çš„çµä¸¹å¦™è¯ã€‚çº¿ç¨‹çš„å¼•å…¥åœ¨æä¾›äº†å¥½å¤„ä¹‹å¤–ï¼Œä¹ŸåŒæ—¶å¼•å…¥äº†æ½œåœ¨é—®é¢˜ã€‚åº”ç”¨ç¨‹åºä¸­å…·æœ‰å¤šä¸ªæ‰§è¡Œè·¯å¾„ä¼šç»™ä»£ç å¢åŠ å¾ˆå¤§çš„å¤æ‚æ€§ã€‚æ¯ä¸ªçº¿ç¨‹ä¹‹é—´éœ€è¦åè°ƒï¼Œä»¥é˜²æ­¢å®ƒç ´ååº”ç”¨ç¨‹åºçŠ¶æ€ä¿¡æ¯ã€‚ç”±äºå•ä¸ªåº”ç”¨ç¨‹åºä¸­çš„çº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤ï¼Œä»–ä»¬å¯ä»¥è®¿é—®ç›¸åŒçš„æ•°æ®ã€‚å¦‚æœä¸¤ä¸ªçº¿ç¨‹è¯•å›¾åŒæ—¶æ“ä½œç›¸åŒçš„æ•°æ®ç»“æ„ï¼Œåˆ™ä¸€ä¸ªçº¿ç¨‹å¯èƒ½ä»¥è¦†ç›–çš„æ–¹å¼æ›´æ”¹æ•°æ®ç»“æ„ä»¥ç ´åæ•°æ®ç»“æ„çš„æ­£ç¡®æ€§ã€‚å³ä½¿æœ‰é€‚å½“çš„ä¿æŠ¤ï¼Œä¹Ÿä»ç„¶éœ€è¦æ³¨æ„ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œè¿™äº›ä¼˜åŒ–å¯èƒ½ä¼šåœ¨ä»£ç ä¸­å¼•å…¥ç»†å¾®çš„é”™è¯¯   


### æœ¯è¯­è¯´æ˜  
åœ¨æ·±å…¥è®¨è®ºçº¿ç¨‹åŠå…¶æ”¯æŒæŠ€æœ¯ä¹‹å‰ï¼Œæœ‰å¿…è¦å®šä¹‰ä¸€äº›åŸºæœ¬æœ¯è¯­ã€‚

æ³¨æ„: åœ¨UNIXç³»ç»Ÿä¸Šï¼Œæœ¯è¯­â€œä»»åŠ¡â€æœ‰æ—¶ç”¨äºæŒ‡ä»£æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚å¯èƒ½ä¸æœ¬æ–‡æ¡£ä¸­å®šä¹‰ä¸åŒ  

* çº¿ç¨‹ï¼š åªå¸¦ä»£ç å•ç‹¬æ‰§è¡Œè·¯å¾„  
* è¿›ç¨‹ï¼š åªå¸¦æ­£åœ¨è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…¶å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹  
* ä»»åŠ¡ï¼š ç”¨æˆ·æŒ‡ä»£éœ€è¦æ‰§è¡Œçš„æŠ½è±¡å·¥ä½œ   


### çº¿ç¨‹æ›¿ä»£å“  
> è¯‘è€…æ³¨ï¼š æ­¤å¤„æŒ‡çš„åªæ˜¯æ¦‚å¿µä¸Šçš„ï¼Œé’ˆå¯¹çš„æ˜¯å•ç‹¬çº¿ç¨‹åˆ›å»ºï¼Œå…¶éƒ¨åˆ†æ›¿ä»£å“çš„å†…éƒ¨è¿˜æ˜¯åŸºäºçº¿ç¨‹å®ç°çš„ã€‚

çº¿ç¨‹æ˜¯ä¸€ç§æ”¯æŒåº”ç”¨å¹¶å‘çš„ç›¸å¯¹ä½çº§ä¸”å¤æ‚çš„æ–¹å¼ï¼Œè‡ªå·±åˆ›å»ºçº¿ç¨‹ä¼šç»™ä»£ç å¢åŠ ä¸ç¡®å®šæ€§ã€‚ å¦‚æœé’ˆå¯¹çº¿ç¨‹è®¾è®¡å¹¶ä¸å¾ˆäº†è§£ï¼Œåˆ™å¯èƒ½å¾ˆå†—ä½™é‡åˆ°åŒæ­¥ç­‰é—®é¢˜ï¼Œå…¶è½»å¾®çš„ä¸åŒè¡Œä¸ºå¯èƒ½é€ æˆç”¨æˆ·æ•°æ®æ›´æ”¹ç”šè‡³åº”ç”¨ç¨‹åºå´©æºƒç­‰é—®é¢˜   


å¦ä¸€ä¸ªè€ƒè™‘å› æ•°æ˜¯æ˜¯å¦éœ€è¦å¤šçº¿ç¨‹å’Œå¹¶å‘ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¹¶ä¸éœ€è¦å¼€å¯æ–°çš„çº¿ç¨‹ï¼Œçº¿ç¨‹çš„åˆ›å»ºéœ€è¦ä¸€å®šçš„CPUå’Œå†…å­˜å¼€é”€ï¼Œå¯èƒ½é€‚å¾—å…¶åã€‚   



| åç§°  | æè¿°  | 
|---|---|
| Operation Object  | é€šå¸¸åœ¨è¾…åŠ©çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ä»»åŠ¡åŒ…è£…å™¨ã€‚éšè—äº†ä»»åŠ¡æ‰§è¡Œçš„çº¿ç¨‹æ–¹é¢ç®¡ç†ï¼Œè®©å¼€å‘äººå‘˜æ›´ä¸“æ³¨äºä»»åŠ¡æœ¬èº«ã€‚é€šå¸¸å¯ä»¥å’Œæ“ä½œé˜Ÿåˆ—ç»“åˆï¼Œè¯¥é˜Ÿåˆ—ç®¡ç†ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä¸Šçš„æ“ä½œå¯¹è±¡æ‰§è¡Œ  |  
| GCD  | æ˜¯å¦å¤–ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥æ›´ä¸“æ³¨äºä»»åŠ¡æœ¬èº«ï¼Œè€Œä¸æ˜¯çº¿ç¨‹ç®¡ç†ã€‚ä½¿ç”¨GCDï¼Œ å¯ä»¥å®šä¹‰ä»»åŠ¡å¹¶å°†å…¶æ·»åŠ åˆ°å·¥ä½œé˜Ÿåˆ—ä¸­ï¼Œè¯¥é˜Ÿåˆ—åœ¨é€‚å½“çš„çº¿ç¨‹ä¸­æ‰§è¡Œä»»åŠ¡ã€‚å·¥ä½œé˜Ÿåˆ—ä¼šç»“åˆç­‰èµ„æºæ›´é«˜æ•ˆçš„æ‰§è¡Œä»»åŠ¡  |  
| Idle-time notifications  | å¯¹äºä»»åŠ¡æ‰€éœ€æ—¶é—´è¾ƒçŸ­æˆ–ä¼˜å…ˆçº§è¾ƒä½çš„ä»»åŠ¡ï¼Œå¯ä»¥é€šè¿‡ç©ºé—²æ—¶é—´é€šçŸ¥åœ¨åº”ç”¨ç¨‹åºä¸å¿™çš„æ—¶å€™æ‰§è¡Œä»»åŠ¡ã€‚é€šè¿‡`NSNotificationQueue`å®ç°ï¼Œå¹¶æŒ‡å®šé€šçŸ¥æ¨¡å¼ä¸º`NSPostWhenIdle`ã€‚é˜Ÿåˆ—å»¶è¿Ÿé€šçŸ¥çš„ä¼ é€’ï¼Œç›´åˆ°Runloopç©ºé—²  |  
| Asynchronous functions  | ç³»ç»Ÿæä¾›äº†éƒ¨åˆ†å¼‚æ­¥å‡½æ•°ï¼Œè¿™äº›APIå¯ä»¥ä½¿ç”¨ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ï¼Œæˆ–åˆ›å»ºè‡ªå®šä¹‰çº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡å¹¶è¿”å›ç»“æœã€‚  |  
| Timers | å¯ä»¥å†åº”ç”¨ç¨‹åºçš„ä¸»çº¿ç¨‹ä¸Šä½¿ç”¨å®šæ—¶å™¨æ¥å®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œæ³¨æ„è¿™äº›ä»»åŠ¡éœ€è¦æ˜¯ç®€å•çš„ï¼Œå¯ä»¥ä¸éœ€è¦çº¿ç¨‹ï¼Œä½†éœ€è¦å®šæœŸç»´æŠ¤çš„(é•¿æ—¶é—´çš„å¯èƒ½ä¼šé˜»å¡ä¸»çº¿ç¨‹)  |  
| Separate processes  |  æ¯”çº¿ç¨‹æ›´é‡é‡çº§ï¼Œåœ¨ä»»åŠ¡ä»…ä¸åº”ç”¨ç¨‹åºè‹¥å…³è”çš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºå•ç‹¬çš„è¿›ç¨‹å¯èƒ½å¾ˆæœ‰ç”¨ã€‚å¦‚æœä»»åŠ¡éœ€è¦å¤§é‡å†…å­˜æˆ–å¿…é¡»ä½¿ç”¨rootæƒé™æ‰§è¡Œï¼Œåˆ™å¯ä»¥ä½¿ç”¨è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨64ä½æœåŠ¡å™¨è¿›ç¨‹è®¡ç®—å¤§å‹æ•°æ®é›†ï¼Œè€Œ32ä½åº”ç”¨ç¨‹åºå°†ç»“æœæ˜¾ç¤ºç»™ç”¨æˆ·ã€‚ |  


> **[warning] Warning**   
> 
> ä½¿ç”¨forkå‡½æ•°å¯åŠ¨å•ç‹¬çš„è¿›ç¨‹æ—¶ï¼Œå¿…é¡»å§‹ç»ˆé€šè¿‡è°ƒç”¨execæˆ–ç±»ä¼¼çš„å‡½æ•°æ¥è°ƒç”¨forkã€‚ä¾èµ–äºCore Foundationï¼ŒCocoaæˆ–Core Dataæ¡†æ¶ï¼ˆæ˜¾å¼æˆ–éšå¼ï¼‰çš„åº”ç”¨ç¨‹åºå¿…é¡»å¯¹execå‡½æ•°è¿›è¡Œåç»­è°ƒç”¨ï¼Œå¦åˆ™è¿™äº›æ¡†æ¶å¯èƒ½è¡¨ç°ä¸æ­£å¸¸ã€‚  
> When launching separate processes using the `fork` function, you must always follow a call to `fork` with a call to `exec` or a similar function. Applications that depend on the Core Foundation, Cocoa, or Core Data frameworks (either explicitly or implicitly) must make a subsequent call to an `exec` function or those frameworks may behave improperly.


### çº¿ç¨‹æ”¯æŒ  
ç³»ç»Ÿæä¾›äº†å‡ ç§åœ¨ç¨‹åºä¸­åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ã€‚åŒæ—¶æ”¯æŒç®¡ç†å’ŒåŒæ­¥çº¿ç¨‹çŠ¶æ€ã€‚   


#### åˆ›å»ºæ–¹å¼ 
è™½ç„¶çº¿ç¨‹çš„åº•å±‚å®ç°æ–¹å¼æ˜¯ `Mach` çº¿ç¨‹ã€‚ä½†åœ¨å·¥ä½œä¸­ï¼Œå‡ ä¹ä¸ä¼šç›´æ¥ä½¿ç”¨åˆ° `Mach`çº§çš„çº¿ç¨‹æ“ä½œã€‚é€šå¸¸ä½¿ç”¨çš„æ˜¯æ›´æ–¹ä¾¿çš„ `POSIX` æˆ–å…¶è¡ç”Ÿäº§å“ã€‚`Mach`å®ç°æä¾›äº†çº¿ç¨‹çš„æ‰€æœ‰åŠŸèƒ½ï¼Œ åŒ…æ‹¬ä»»åŠ¡æ‰§è¡Œç­‰çº§ä¸€çº§çº¿ç¨‹è°ƒåº¦åŠŸèƒ½    



|  åç§°    |   æè¿°    |  
| --------| ---------| 
| Cocoaå±‚  | Cocoaä½¿ç”¨ `NSThread`å®ç°çº¿ç¨‹åŠŸèƒ½ï¼ŒCocoaè¿˜æä¾›äº†é€šè¿‡`NSObject`ç”Ÿæˆæ–°çº¿ç¨‹å’Œåœ¨å·²è¿è¡Œçš„çº¿ç¨‹ä¸Šæ‰§è¡Œä»»åŠ¡çš„èƒ½åŠ› [NSObjctç”Ÿæˆçº¿ç¨‹](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW13) [NSThread](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW11) |  
| POSIX   | POSIXæä¾›äº†åˆ›å»ºçº¿ç¨‹çš„Cæ¥å£ã€‚å¦‚æœå®ç°çš„åº”ç”¨ç¨‹åºä¸Cocoaæ— å…³ï¼Œå¯ä»¥é€šè¿‡æ­¤æ–¹å¼ä¿©å®ç°çº¿ç¨‹åŠŸèƒ½ã€‚POSIXåŠŸèƒ½ç›¸å¯¹ç®€å•ï¼Œå¹¶æä¾›äº†çº¿ç¨‹çµæ´»é…ç½® [POSIXçº¿ç¨‹](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW12) |  
| Multiprocessing Services | æ˜¯ä»æ—§ç‰ˆMac OS è½¬æ¢çš„åº”ç”¨ä½¿ç”¨çš„åŸºäºCçš„æ¥å£ã€‚ä¸å»ºè®®ä½¿ç”¨æ­¤æ–¹å¼åˆ›å»ºçº¿ç¨‹ã€‚æ¨èä½¿ç”¨ä»¥ä¸Šä¸¤ç§æ–¹å¼  |   


åœ¨åº”ç”¨ç¨‹åºå±‚ï¼Œçº¿ç¨‹çš„æ‰€æœ‰è¡Œä¸ºæ–¹å¼ä¸å…¶ä»–å¹³å°åŸºæœ¬ç›¸åŒã€‚å¯åŠ¨çº¿ç¨‹åï¼Œçº¿ç¨‹ä»¥ä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€è¿è¡Œ:`running`,`ready`,`blocked`ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹å½“å‰æ²¡æœ‰åœ¨è¿è¡Œï¼Œé‚£ä¹ˆå®ƒå°†å¤„äº `blocked`æˆ–è€… ç­‰å¾…è¾“å…¥ æˆ–è€…å·²ç»å‡†å¤‡å¥½ï¼Œä½†è¿˜æœªå¼€å§‹è¿è¡Œ(`ready`çŠ¶æ€)ã€‚ çº¿ç¨‹å°†åœ¨ä»¥ä¸Šå‡ ç§çŠ¶æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼Œç›´åˆ°çº¿ç¨‹è¿è¡Œå®Œæ¯•ç»ˆæ­¢  

å½“åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ—¶ï¼Œ å¿…é¡»ç»™å½“å‰çº¿ç¨‹æŒ‡å®šä¸€ä¸ªå…¥å£ç‚¹å‡½æ•°ã€‚ æ­¤å…¥å£å‡½æ•°ç”±éœ€è¦çº¿ç¨‹å®Œæˆçš„ä»»åŠ¡ä»£ç ç»„æˆã€‚å½“å‡½æ•°æ‰§è¡Œå®Œæ¯•è¿”å›ï¼Œæˆ–è€…æ˜¾ç¤ºçš„ç»ˆæ­¢çº¿ç¨‹ï¼Œçº¿ç¨‹å°†æ°¸ä¹…åœæ­¢å¹¶ç”±ç³»ç»Ÿå›æ”¶ã€‚ç”±äºçº¿ç¨‹åˆ›å»ºåœ¨å†…å­˜å’Œæ—¶é—´æ–¹é¢çš„æˆæœ¬ç›¸å¯¹è¾ƒé«˜ï¼Œå› æ­¤å»ºè®®æ‰§è¡Œå¤§é‡å·¥ä½œæˆ–è®¾ç½®è¿è¡Œå¾ªç¯ä»¥å…è®¸æ‰§è¡Œé‡å¤å·¥ä½œ  


#### Runloop  
Runloop æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†å¼‚æ­¥åˆ°è¾¾çº¿ç¨‹çš„äº‹ä»¶çš„åŸºç¡€ç»“æ„ã€‚Runloop é€šè¿‡æ£€æµ‹ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶æºã€‚å½“äº‹ä»¶åˆ°è¾¾æ—¶ï¼Œç³»ç»Ÿå”¤é†’çº¿ç¨‹å¹¶å°†äº‹ä»¶è°ƒåº¦åˆ°Runloop ä¸Šï¼ŒRunloop å°†äº‹ä»¶æŒ‡æ´¾åˆ°æŒ‡å®šçš„å…·ä½“å¤„ç†. å¦‚æœæ²¡æœ‰äº‹ä»¶åˆ°è¾¾æˆ–å‡†å¤‡å¤„ç†ï¼ŒRunloop å°†ä½¿çº¿ç¨‹è¿›å…¥ä¼‘çœ çŠ¶æ€   




#### çº¿ç¨‹åŒæ­¥  
çº¿ç¨‹ç¼–ç¨‹çš„ä¸€ä¸ªå±é™©æ“ä½œæ˜¯çº¿ç¨‹ä¹‹é—´çš„èµ„æºç«äº‰ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹å°è¯•åŒæ—¶ä½¿ç”¨æˆ–ä¿®æ”¹åŒä¸€èµ„æºï¼Œåˆ™å¾ˆæœ‰å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚è§£å†³æ­¤é—®é¢˜çš„ä¸€ç§æ–¹å¼æ˜¯å®Œå…¨æ¶ˆé™¤å…±äº«èµ„æºã€‚ç¡®ä¿æ¯ä¸ªçº¿ç¨‹æ“ä½œè‡ªå·±ç‹¬æœ‰çš„èµ„æºã€‚ä½†æ˜¯ï¼Œç»´æŠ¤å®Œå…¨çº¿ç¨‹ç‹¬ç«‹çš„èµ„æºå¹¶ä¸å¾ˆç°å®(ä¼šé€ æˆèµ„æºæµªè´¹ç­‰å› ç´ ï¼Œè¿˜æœ‰èµ„æºåŒæ­¥ç­‰é—®é¢˜)ã€‚æ‰€ä»¥å¯èƒ½éœ€è¦é€šè¿‡ `lock`,`conditions`,`automicæ“ä½œ`æˆ–è€…å…¶ä»–æ–¹å¼æ¥è§£å†³åŒæ­¥èµ„æºè®¿é—®ã€‚   

é” ä¸ºèµ„æºæä¾›äº†å¼ºåŠ›ä¿æŠ¤ï¼Œ ä¸€æ¬¡åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹æ“ä½œã€‚æœ€å¸¸è§çš„é”ç±»å‹æ˜¯äº’æ–¥ğŸ”ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è§†å›¾è·å–å½“å‰ç”±å¦ä¸€ä¸ªçº¿ç¨‹æŒæœ‰çš„äº’æ–¥é”æ—¶ï¼Œä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾è¯¥é”ã€‚å¤šä¸ªç³»ç»Ÿæ¡†æ¶æä¾›äº†äº’æ–¥é”çš„æ”¯æŒï¼Œå°½ç®¡ä»–ä»¬éƒ½æ˜¯åŸºäºç›¸åŒçš„åº•å±‚å®ç°ã€‚æ­¤å¤–ï¼ŒCocoaæä¾›äº†äº’æ–¥é”çš„å‡ ç§å˜ç§ï¼Œä»¥æ”¯æŒä¸åŒç±»å‹è¡Œä¸ºï¼Œä¾‹å¦‚ é€’å½’ã€‚






## å‚è€ƒ  
* [çº¿ç¨‹ç®¡ç†](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/CreatingThreads/CreatingThreads.html#//apple_ref/doc/uid/10000057i-CH15-SW2)  
* [Runloop](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/RunLoopManagement/RunLoopManagement.html#//apple_ref/doc/uid/10000057i-CH16-SW1)  
* [é”](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/ThreadSafety/ThreadSafety.html#//apple_ref/doc/uid/10000057i-CH8-126320)  
* [åŒæ­¥](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Multithreading/ThreadSafety/ThreadSafety.html#//apple_ref/doc/uid/10000057i-CH8-124887)